
import java.util.Arrays;


public class SortedArray<E extends Comparable<E> > {

	private static final int MAX = 100;
	private Integer[] index; 
	private Object[] dataType;
 	private int size;
	
 	/**
	 * 
	 */
	@SuppressWarnings("unchecked")
	public SortedArray(){
	
		size = 0;
		index = new Integer[MAX];
		dataType = (E[])new Comparable[MAX];
		index = Arrays.copyOf(index,MAX, Integer[].class);
		dataType = (E[])Arrays.copyOf(dataType,MAX, Comparable[].class);
		
	}
	/**
	 * 
	 * @param item
	 * @param postion
	 */
	
	@SuppressWarnings("unchecked")
	public void setDataType(E item, int postion) {
		
		if(findID(item) >= 0)
			return;
		int placement = 0;
		for(placement = size-1; placement >= 0 ; --placement){
			if(((Comparable<E>)dataType[placement]).compareTo(item) < 0)
				break;
			else{
				index[placement+1]    = index[placement];
				dataType[placement+1] = dataType[placement];
			}
		}
		index[placement+1]    = postion;
		dataType[placement+1] = item;
		++size;
	}
	/**
	 * 
	 * @param target
	 * @return
	 */
    @SuppressWarnings("unchecked")
	public int findID(Comparable<E> target) {
		
		int first = 0, last = size-1 , mid = 0;
		
		while (first <= last){
			
			mid = (first + last) / 2;
			
			if (dataType[mid].equals(target)) 
				  return mid;
			else if (target.compareTo((E) dataType[mid]) > 0)
				      first = mid + 1;
			else
				 last = mid - 1;
			
		}
		return -1;
	}
    /**
     * 
     * @param item
     * @return
     */
    public int getIndex(Comparable<E> item){
		int position = findID(item);
		return (position >=0 ) ? index[position] : -1;
			
    	
	}
	@Override
	public String toString() {
		StringBuilder builder = new StringBuilder();
		
		for (int i = 0; i < size; i++) {
			 builder.append(dataType[i] + "\t" + index[i]+"\n"); 
		}
		
		return String.valueOf(builder);
	}
	
	public static void main(String[] args) {
		
		SortedArray<String> array = new SortedArray<>();
		
		array.setDataType("Brian", 0);
		array.setDataType("Brian", 3);
		array.setDataType("A", 4);

		System.out.print(array.getIndex("Brian"));
		
	}
}
